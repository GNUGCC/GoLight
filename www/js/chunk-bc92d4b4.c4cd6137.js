(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bc92d4b4"],{"002d":function(t,e,o){},"00f5":function(t,e,o){"use strict";o("39ba")},"39ba":function(t,e,o){},5805:function(t,e,o){"use strict";o("002d")},bb41:function(t,e,o){"use strict";o.r(e);var c=o("7a23");const n=Object(c["i"])("點燈祈福"),j=Object(c["i"])(" 已選燈列表 "),b=Object(c["i"])("修改"),s=Object(c["i"])("刪除"),l=Object(c["i"])(" 已選燈列表 "),i=Object(c["i"])("+   新增"),a=Object(c["i"])("44使用BLESS序號"),O=Object(c["i"])("　　總金額　　"),u=Object(c["i"])("　　付款方式　　"),r=Object(c["i"])("信用卡"),d=Object(c["i"])("銀行轉帳"),f=Object(c["i"])("超商代收"),m=Object(c["i"])("付款");function p(t,e,o,p,I,_){const H=Object(c["B"])("ion-back-button"),h=Object(c["B"])("ion-buttons"),g=Object(c["B"])("ion-title"),B=Object(c["B"])("ion-toolbar"),k=Object(c["B"])("ion-header"),$=Object(c["B"])("ion-col"),z=Object(c["B"])("ion-row"),v=Object(c["B"])("ion-text"),w=Object(c["B"])("ion-grid"),S=Object(c["B"])("ion-button"),C=Object(c["B"])("ion-img"),y=Object(c["B"])("ion-label"),T=Object(c["B"])("ion-input"),E=Object(c["B"])("ion-item"),x=Object(c["B"])("ion-select-option"),L=Object(c["B"])("ion-select"),F=Object(c["B"])("ion-content"),J=Object(c["B"])("menu-bar"),D=Object(c["B"])("ion-footer"),V=Object(c["B"])("ion-page");return Object(c["u"])(),Object(c["e"])(V,null,{default:Object(c["H"])(()=>[Object(c["j"])(k,null,{default:Object(c["H"])(()=>[Object(c["j"])(B,null,{default:Object(c["H"])(()=>[Object(c["j"])(h,{slot:"start"},{default:Object(c["H"])(()=>[Object(c["j"])(H,{"default-href":"/temple/"+I.id},null,8,["default-href"])]),_:1}),Object(c["j"])(g,null,{default:Object(c["H"])(()=>[n]),_:1})]),_:1})]),_:1}),Object(c["j"])(F,{class:"new-order"},{default:Object(c["H"])(()=>[t.$store.state.items.length?(Object(c["u"])(),Object(c["e"])(w,{key:0},{default:Object(c["H"])(()=>[Object(c["j"])(z,null,{default:Object(c["H"])(()=>[Object(c["j"])($,{size:"12",style:{"font-size":"1.3rem"}},{default:Object(c["H"])(()=>[j]),_:1})]),_:1}),(Object(c["u"])(!0),Object(c["g"])(c["a"],null,Object(c["A"])(t.$store.state.items,t=>(Object(c["u"])(),Object(c["e"])(z,{class:"record ion-margin-top",key:t.timestamp},{default:Object(c["H"])(()=>[Object(c["j"])($,{size:"4"},{default:Object(c["H"])(()=>[Object(c["i"])(Object(c["D"])(t.light.title),1)]),_:2},1024),Object(c["j"])($,{size:"4"},{default:Object(c["H"])(()=>[Object(c["i"])(Object(c["D"])(t.name),1)]),_:2},1024),Object(c["j"])($,{class:"ion-text-right",size:"2"},{default:Object(c["H"])(()=>[Object(c["j"])(v,{"router-link":"/new-order-item/"+I.id+"/"+t.timestamp},{default:Object(c["H"])(()=>[b]),_:2},1032,["router-link"])]),_:2},1024),Object(c["j"])($,{class:"ion-text-right",size:"2"},{default:Object(c["H"])(()=>[Object(c["j"])(v,{onClick:e=>_.remove(t)},{default:Object(c["H"])(()=>[s]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})):(Object(c["u"])(),Object(c["e"])(w,{key:1},{default:Object(c["H"])(()=>[Object(c["j"])(z,null,{default:Object(c["H"])(()=>[Object(c["j"])($,{size:"12",style:{"font-size":"1.3rem"}},{default:Object(c["H"])(()=>[l]),_:1})]),_:1}),Object(c["j"])(z,{class:"record ion-margin-top"},{default:Object(c["H"])(()=>[Object(c["j"])($)]),_:1})]),_:1})),Object(c["j"])(w,null,{default:Object(c["H"])(()=>[Object(c["j"])(z,{class:"ion-margin-bottom ion-padding-bottom"},{default:Object(c["H"])(()=>[Object(c["j"])($,{size:"12"},{default:Object(c["H"])(()=>[Object(c["j"])(S,{class:"button-3","router-link":"/new-order-item/"+I.id},{default:Object(c["H"])(()=>[i]),_:1},8,["router-link"])]),_:1})]),_:1}),Object(c["j"])(z,{class:"ion-margin-top ion-padding-top"},{default:Object(c["H"])(()=>[Object(c["j"])($,{size:"6"},{default:Object(c["H"])(()=>[Object(c["j"])(S,{class:"button-1","router-link":"/coupon-list/"+I.id},{default:Object(c["H"])(()=>[a]),_:1},8,["router-link"])]),_:1}),Object(c["j"])($,{size:"2"},{default:Object(c["H"])(()=>[Object(c["j"])(C,{onClick:_.help,src:"/assets/images/icon3.png",style:{width:"45px"}},null,8,["onClick"])]),_:1}),Object(c["j"])($,{size:"4"},{default:Object(c["H"])(()=>[Object(c["I"])(Object(c["j"])(v,{style:{"font-size":"0.8rem"}},{default:Object(c["H"])(()=>[Object(c["i"])("總折抵"+Object(c["D"])(_.discount)+"元",1)]),_:1},512),[[c["F"],_.discount]])]),_:1}),Object(c["j"])($,{size:"12"},{default:Object(c["H"])(()=>[Object(c["j"])(E,{class:"input"},{default:Object(c["H"])(()=>[Object(c["j"])(y,null,{default:Object(c["H"])(()=>[O]),_:1}),Object(c["j"])(T,{readonly:"",value:_.amount},null,8,["value"])]),_:1})]),_:1}),Object(c["j"])($,{size:"12"},{default:Object(c["H"])(()=>[Object(c["j"])(E,{class:"input select"},{default:Object(c["H"])(()=>[Object(c["j"])(y,null,{default:Object(c["H"])(()=>[u]),_:1}),Object(c["j"])(L,{interface:"popover",placeholder:"請選擇",modelValue:I.method,"onUpdate:modelValue":e[0]||(e[0]=t=>I.method=t)},{default:Object(c["H"])(()=>[Object(c["j"])(x,{value:"1"},{default:Object(c["H"])(()=>[r]),_:1}),Object(c["j"])(x,{value:"2"},{default:Object(c["H"])(()=>[d]),_:1}),Object(c["j"])(x,{value:"3"},{default:Object(c["H"])(()=>[f]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),Object(c["j"])($,{size:"12"},{default:Object(c["H"])(()=>[Object(c["j"])(S,{onClick:_.submit,class:"button-3"},{default:Object(c["H"])(()=>[m]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1}),Object(c["j"])(D,null,{default:Object(c["H"])(()=>[Object(c["j"])(J,{step:t.$store.state.items.length?"4":"2"},null,8,["step"])]),_:1})]),_:1})}var I=o("d722"),_=o("d867"),H=o("e193"),h={components:{IonBackButton:_["IonBackButton"],IonButton:_["IonButton"],IonButtons:_["IonButtons"],IonCol:_["IonCol"],IonContent:_["IonContent"],IonFooter:_["IonFooter"],IonGrid:_["IonGrid"],IonHeader:_["IonHeader"],IonImg:_["IonImg"],IonInput:_["IonInput"],IonItem:_["IonItem"],IonLabel:_["IonLabel"],IonPage:_["IonPage"],IonRow:_["IonRow"],IonSelect:_["IonSelect"],IonSelectOption:_["IonSelectOption"],IonText:_["IonText"],IonTitle:_["IonTitle"],IonToolbar:_["IonToolbar"],MenuBar:H["a"]},computed:{amount(){let t=0-this.discount;return this.$store.state.items.forEach(e=>{t+=e.light.price}),t>0?t:0},discount(){let t=0;return this.$store.state.coupons.forEach(e=>{e.checked&&(t+=parseInt(e.discount))}),t}},data(){return{id:this.$route.params.id,method:""}},methods:{async help(){const t=await _["alertController"].create({header:"BLESS序號說明",message:"1) 點選BLESS序號按鈕，可進入BLESS序號輸入頁面，輸入序號則可折抵金額。<br>2) 多張序號可一併使用，要使用的序號，請在欄位前方點選選取，按下使用則開始使用。<br>3) 一個序號只能使用一次。<br>4) 序號無法兌換現金或找零，一個序號請一次使用完畢。",buttons:["OK"]});await t.present()},remove(t){confirm(`確定要刪除${t.name}的${t.light.title}嗎？`)&&this.$store.commit("remove",t)},submit(){if(this.$store.state.items.length)if(""!==this.method){if(confirm("確定要送出訂單嗎？")){let t=[];this.$store.state.coupons.forEach(e=>{e.checked&&t.push(e.code)}),Object(I["createOrder"])({items:JSON.parse(JSON.stringify(this.$store.state.items)),coupons:t,method:this.method},t=>{let e=t.order_id;e||(e=t.order.id),Object(I["passpay"])({orderId:e},t=>{this.$router.push({name:"OrderCompleted",params:{id:t.orderId}})})})}}else alert("請選擇付款方式");else alert("請新增燈種")}}},g=(o("5805"),o("6b0d")),B=o.n(g);const k=B()(h,[["render",p],["__scopeId","data-v-4a9e6b33"]]);e["default"]=k},e193:function(t,e,o){"use strict";var c=o("7a23");const n=Object(c["i"])(" 點燈祈福 "),j=Object(c["i"])(" 會員資料7資料 "),b=Object(c["i"])(" 購買資料 "),s=Object(c["i"])(" 登出系統 ");function l(t,e,o,l,i,a){const O=Object(c["B"])("ion-img"),u=Object(c["B"])("ion-button"),r=Object(c["B"])("ion-buttons"),d=Object(c["B"])("ion-toolbar");return Object(c["u"])(),Object(c["g"])(c["a"],null,[o.step?(Object(c["u"])(),Object(c["e"])(O,{key:0,class:"step-bar",src:`/assets/images/step-${o.step}.png`},null,8,["src"])):Object(c["f"])("",!0),Object(c["I"])(Object(c["j"])(d,null,{default:Object(c["H"])(()=>[Object(c["j"])(r,null,{default:Object(c["H"])(()=>[Object(c["j"])(u,{class:"button-4","router-link":"/temple-list"},{default:Object(c["H"])(()=>[Object(c["j"])(O,{slot:"start",src:"/assets/images/icon1-1.png"}),n]),_:1}),Object(c["j"])(u,{class:"button-4","router-link":"/member-info"},{default:Object(c["H"])(()=>[Object(c["j"])(O,{slot:"start",src:"/assets/images/icon1-2.png"}),j]),_:1}),Object(c["j"])(u,{class:"button-4","router-link":"/order-list"},{default:Object(c["H"])(()=>[Object(c["j"])(O,{slot:"start",src:"/assets/images/icon1-3.png"}),b]),_:1}),Object(c["j"])(u,{class:"button-4",onClick:a.logout},{default:Object(c["H"])(()=>[Object(c["j"])(O,{slot:"start",src:"/assets/images/icon1-4.png"}),s]),_:1},8,["onClick"])]),_:1})]),_:1},512),[[c["F"],a.token]])],64)}var i=o("d722"),a=o("d867"),O={components:{IonButton:a["IonButton"],IonButtons:a["IonButtons"],IonImg:a["IonImg"],IonToolbar:a["IonToolbar"]},computed:{token(){return this.$store.state.token}},methods:{logout(){Object(i["logout"])(()=>{this.$store.commit("logout"),this.$route.meta.requiresAuth&&this.$router.push({name:"Home"})})}},props:{step:String}},u=(o("00f5"),o("6b0d")),r=o.n(u);const d=r()(O,[["render",l],["__scopeId","data-v-f60f87d0"]]);e["a"]=d}}]);
//# sourceMappingURL=chunk-bc92d4b4.c4cd6137.js.map